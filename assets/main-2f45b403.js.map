{"version":3,"file":"main-2f45b403.js","sources":["../../src/js/apiServices.js","../../src/js/refs.js","../../src/js/lastComicsRender.js","../../src/js/comicsSearch.js"],"sourcesContent":["import axios from 'axios';\nimport MD5 from 'crypto-js/md5';\n\naxios.defaults.baseURL = 'https://gateway.marvel.com';\n\nconst PUBLIC_API_KEY = 'bb59b27f1efca5bf3b3c536649aa56a1';\nconst PRIVATE_API_KEY = '6807fcecafaf9ad7d96911be2c5dcacb9d630a11';\nconst TS = Date.now();\nconst HASH = MD5(TS + PRIVATE_API_KEY + PUBLIC_API_KEY).toString();\n\nexport async function getLastComics() {\n  const { data } = await axios.get(\n    `/v1/public/comics?ts=${TS}&apikey=${PUBLIC_API_KEY}&hash=${HASH}&dateDescriptor=lastWeek`\n  );\n\n  return data;\n}\n","export const refs = {\n  lastComicsList: document.querySelector('.last-comics-list'),\n  startYear: document.querySelector('#startYear'),\n};\n","import { getLastComics } from './apiServices.js';\nimport { refs } from './refs.js';\n\nexport async function lastComicsRender() {\n  const {\n    data: { results },\n  } = await getLastComics();\n\n  const markup = results\n    .map(({ id, title, thumbnail, creators }) => {\n      const writers = creators.items\n        .filter(({ role }) => {\n          return role === 'writer';\n        })\n        .map(({ name }) => {\n          return name;\n        })\n        .join(', ');\n      return `<li class=\"last-comics-item\" id=${id}>\n        <img\n          class=\"last-comics-item-photo\"\n          src=${thumbnail.path}.${thumbnail.extension}\n          alt=${title}\n        />\n        <h3 class=\"last-comics-item-title\">${title}</h3>\n        <p class=\"last-comics-item-author\">${writers}</p>\n      </li>`;\n    })\n    .join('');\n\n  refs.lastComicsList.insertAdjacentHTML('beforeend', markup);\n}\n\nlastComicsRender();\n","import flatpickr from 'flatpickr';\nimport 'flatpickr/dist/themes/dark.css';\nimport { refs } from './refs';\n\nconst options = {\n  closeOnEscape: true,\n  dateFormat: 'd/m/Y',\n  maxDate: 'today',\n};\n\nflatpickr(refs.startYear, options);\n"],"names":["axios","PUBLIC_API_KEY","PRIVATE_API_KEY","TS","HASH","MD5","getLastComics","data","refs","lastComicsRender","results","markup","id","title","thumbnail","creators","writers","role","name","options","flatpickr"],"mappings":"6vBAGAA,EAAM,SAAS,QAAU,6BAEzB,MAAMC,EAAiB,mCACjBC,EAAkB,2CAClBC,EAAK,KAAK,MACVC,EAAOC,EAAIF,EAAKD,EAAkBD,CAAc,EAAE,WAEjD,eAAeK,GAAgB,CACpC,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMP,EAAM,IAC3B,wBAAwBG,CAAE,WAAWF,CAAc,SAASG,CAAI,0BACpE,EAEE,OAAOG,CACT,CChBO,MAAMC,EAAO,CAClB,eAAgB,SAAS,cAAc,mBAAmB,EAC1D,UAAW,SAAS,cAAc,YAAY,CAChD,ECAO,eAAeC,GAAmB,CACvC,KAAM,CACJ,KAAM,CAAE,QAAAC,CAAS,CACrB,EAAM,MAAMJ,EAAa,EAEjBK,EAASD,EACZ,IAAI,CAAC,CAAE,GAAAE,EAAI,MAAAC,EAAO,UAAAC,EAAW,SAAAC,CAAQ,IAAO,CAC3C,MAAMC,EAAUD,EAAS,MACtB,OAAO,CAAC,CAAE,KAAAE,KACFA,IAAS,QACjB,EACA,IAAI,CAAC,CAAE,KAAAC,KACCA,CACR,EACA,KAAK,IAAI,EACZ,MAAO,mCAAmCN,CAAE;AAAA;AAAA;AAAA,gBAGlCE,EAAU,IAAI,IAAIA,EAAU,SAAS;AAAA,gBACrCD,CAAK;AAAA;AAAA,6CAEwBA,CAAK;AAAA,6CACLG,CAAO;AAAA,YAEpD,CAAK,EACA,KAAK,EAAE,EAEVR,EAAK,eAAe,mBAAmB,YAAaG,CAAM,CAC5D,CAEAF,EAAkB,EC7BlB,MAAMU,EAAU,CACd,cAAe,GACf,WAAY,QACZ,QAAS,OACX,EAEAC,EAAUZ,EAAK,UAAWW,CAAO"}